import {HStack} from 'alinea/ui'
import {TypePageProps} from '../pages/types/[...path].tsx'
import {Layout} from './layout/Layout.js'
import {NavSidebar} from './layout/NavSidebar.js'
import {NavTree} from './layout/NavTree.js'
import {WebTypo} from './layout/WebTypo.js'
import {Declaration} from './types/Declaration.js'
import {TypeRow} from './types/TypeRow.js'

export function TypePage({layout, title, members, nav}: TypePageProps) {
  if (!members.length) return null
  return (
    <Layout {...layout}>
      <Layout.Container>
        <HStack>
          <NavSidebar>
            <NavTree nav={nav} />
          </NavSidebar>

          <Layout.Scrollable>
            <div style={{flexGrow: 1, minWidth: 0}}>
              <WebTypo.H1 flat>{title}</WebTypo.H1>
              <Declaration members={members} wrap={TypeRow} />
            </div>
          </Layout.Scrollable>
        </HStack>
      </Layout.Container>
    </Layout>
  )
}
