{
  "_id": "2YWqKUTrANlgEFMyBUEYdih2HpP",
  "_type": "Doc",
  "_index": "Zgl",
  "_i18nId": "2YWqKUTrANlgEFMyBUEYdih2HpP",
  "title": "Getting started",
  "navigationTitle": "",
  "body": [
    {
      "_type": "paragraph",
      "textAlign": "left",
      "content": [
        {
          "_type": "text",
          "text": "Alinea is a git-based CMS written in Typescript. This guide will help you setup Alinea for Next.js projects. "
        }
      ]
    },
    {
      "_type": "FrameworkBlock",
      "_id": "2YX0hoFtrkov2TMQT8cuHwhgN6L",
      "next": [
        {
          "_type": "paragraph",
          "textAlign": "left",
          "content": [
            {
              "_type": "text",
              "text": "Get started by creating a new Next.js project. The following will setup a project in your chosen directory. (If you'd like to add Alinea to an existing project just skip this instruction.)"
            }
          ]
        },
        {
          "_type": "CodeBlock",
          "_id": "2YXL5zGSUUiBumPIemixlnKqCyL",
          "code": "npx create-next-app@latest",
          "fileName": "",
          "language": "shellscript",
          "compact": false
        },
        {
          "_type": "NoticeBlock",
          "_id": "2YXKZ3Ds2lpGOsLh9adsGaBQlTx",
          "level": "info",
          "body": [
            {
              "_type": "paragraph",
              "textAlign": "left",
              "content": [
                {
                  "_type": "text",
                  "text": "Read the full instructions in the "
                },
                {
                  "_type": "text",
                  "text": "Next.js docs",
                  "marks": [
                    {
                      "_type": "link",
                      "_id": "2YXKczB3joyKzGfrzWgivPA8N0K",
                      "_link": "url",
                      "href": "https://nextjs.org/docs/getting-started/installation",
                      "target": "_blank",
                      "title": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "_type": "heading",
          "level": 2,
          "content": [
            {
              "_type": "text",
              "text": "Install Alinea"
            }
          ]
        },
        {
          "_type": "paragraph",
          "textAlign": "left",
          "content": [
            {
              "_type": "text",
              "text": "Navigate to the newly created project directory and install the package with your preferred package manager."
            }
          ]
        },
        {
          "_type": "CodeVariantsBlock",
          "_id": "2YcqwSzePKnvF6rL4bu9cI0d4LN",
          "variants": [
            {
              "_id": "2Ycqwgl3s7szk2B92gnXY5unG3Q",
              "_index": "a0",
              "_type": "Variant",
              "name": "npm",
              "language": "shellscript",
              "code": "npm install alinea"
            },
            {
              "_id": "2YcqyQsBjtLQbXB3v9l7AtdcH3U",
              "_index": "a1",
              "_type": "Variant",
              "name": "yarn",
              "language": "shellscript",
              "code": "yarn add alinea"
            },
            {
              "_id": "2YcqzHpnfHK43fhtMEY6r7Wrpf1",
              "_index": "a2",
              "_type": "Variant",
              "name": "pnpm",
              "language": "shellscript",
              "code": "pnpm install alinea"
            },
            {
              "_id": "2nvByMUmxNTiXafJjyx1NimzTVv",
              "_index": "a3",
              "_type": "Variant",
              "name": "bun",
              "language": "tsx",
              "code": "bun add alinea"
            }
          ]
        },
        {
          "_type": "heading",
          "level": 2,
          "content": [
            {
              "_type": "text",
              "text": "Initialize the project"
            }
          ]
        },
        {
          "_type": "paragraph",
          "textAlign": "left",
          "content": [
            {
              "_type": "text",
              "text": "Alinea requires a "
            },
            {
              "_type": "text",
              "text": "config file",
              "marks": [
                {
                  "_type": "link",
                  "_id": "2a4tfP6guQMwWKKRhiN0Nb5JeQN",
                  "_entry": "259Ey7LXgqL7ZDGJ8XK1vBJmZrh",
                  "_link": "entry",
                  "title": ""
                }
              ]
            },
            {
              "_type": "text",
              "text": " which can be auto-generated by running `alinea init`. If you prefer plain Javascript over Typescript, rename the created file from `cms.ts` to `cms.js`."
            }
          ]
        },
        {
          "_type": "CodeVariantsBlock",
          "_id": "2YcrGI2EPnmmIrHkfo1xKrcNVSI",
          "variants": [
            {
              "_id": "2YcrGaP9oBJwHo8pWmHLU7blTfN",
              "_index": "a0",
              "_type": "Variant",
              "name": "npm",
              "language": "shellscript",
              "code": "npx alinea init --next"
            },
            {
              "_id": "2YcrHzKowUENzFVBgP5M7hf1qT1",
              "_index": "a1",
              "_type": "Variant",
              "name": "yarn",
              "language": "shellscript",
              "code": "yarn alinea init --next"
            },
            {
              "_id": "2YcrJEDLa8oWOLJSSjsstOKg4Sl",
              "_index": "a2",
              "_type": "Variant",
              "name": "pnpm",
              "language": "shellscript",
              "code": "pnpm alinea init --next"
            },
            {
              "_id": "2nvC5Pfk9WeObDYgbSL8GkJ0OZu",
              "_index": "a3",
              "_type": "Variant",
              "name": "bun",
              "language": "tsx",
              "code": "bun alinea init --next"
            }
          ]
        },
        {
          "_type": "heading",
          "level": 2,
          "content": [
            {
              "_type": "text",
              "text": "Create CMS handler route"
            }
          ]
        },
        {
          "_type": "paragraph",
          "textAlign": "left",
          "content": [
            {
              "_type": "text",
              "text": "Add a handler route which handles the CMS backend and previews."
            }
          ]
        },
        {
          "_type": "CodeBlock",
          "_id": "2lFGtrO1pqUsBK9wsyzzEmfujsB",
          "code": "import {cms} from '@/cms'\nimport {createHandler} from 'alinea/next'\n\nconst handler = createHandler(cms)\n\nexport const GET = handler\nexport const POST = handler",
          "fileName": "app/api/cms/route.ts",
          "language": ""
        },
        {
          "_type": "heading",
          "level": 2,
          "content": [
            {
              "_type": "text",
              "text": "Update the CMS config"
            }
          ]
        },
        {
          "_type": "paragraph",
          "textAlign": "left",
          "content": [
            {
              "_type": "text",
              "text": "We'll pass the Next.js URL to Alinea so that it can display live previews in the dashboard. The production URL is optional â€” Alinea will remind you to update the value when deploying."
            }
          ]
        },
        {
          "_type": "CodeBlock",
          "_id": "2lFH4jKdDEEw2cDbg9YYUPdsOtw",
          "code": "export const cms = createCMS({\n  // ... schema, workspaces\n\n  baseUrl: {\n    // Point to your Next.js website\n    development: 'http://localhost:3000',\n    // If hosting on vercel you can use: process.env.VERCEL_URL\n    production: 'http://example.com'\n  },\n\n  // The handler route URL\n  handlerUrl: '/api/cms',\n\n  // The admin dashboard will be bundled in this static file\n  dashboardFile: 'admin.html'\n})",
          "fileName": "src/cms.tsx",
          "language": ""
        },
        {
          "_type": "heading",
          "level": 2,
          "content": [
            {
              "_type": "text",
              "text": "Adjust Next.js config"
            }
          ]
        },
        {
          "_type": "paragraph",
          "textAlign": "left",
          "content": [
            {
              "_type": "text",
              "text": "Alinea generates a few files at build time which should not be cached when deployed in production. Add `@alinea/generated` to `serverComponentsExternalPackages` in your Next.js config file:"
            }
          ]
        },
        {
          "_type": "NoticeBlock",
          "_id": "2nvCsWaPqzkMpQJesljIGv1WfnT",
          "level": "warning",
          "body": [
            {
              "_type": "paragraph",
              "textAlign": "left",
              "content": [
                {
                  "_type": "text",
                  "text": "For Next.js versions below 15 you'll find the option under `experimental`."
                }
              ]
            }
          ]
        },
        {
          "_type": "CodeVariantsBlock",
          "_id": "2bRC6LC1i4PfMRTFBeXuHrvWjk0",
          "variants": [
            {
              "_id": "2bRC6k9IXwZsgnaBLqqWcybH8H9",
              "_index": "a0",
              "_type": "Variant",
              "name": "next.config.js",
              "language": "tsx",
              "code": "const nextConfig = {\n  // ... other options\n  serverComponentsExternalPackages: ['@alinea/generated']\n}\n\nmodule.exports = nextConfig"
            },
            {
              "_id": "2bRCBQoR8tqmnewVSC95tvRYmFk",
              "_index": "a1",
              "_type": "Variant",
              "name": "next.config.mjs",
              "language": "tsx",
              "code": "/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  // ... other options\n  serverComponentsExternalPackages: [\"@alinea/generated\"]\n}\n\nexport default nextConfig"
            }
          ]
        }
      ]
    },
    {
      "_type": "heading",
      "level": 2,
      "content": [
        {
          "_type": "text",
          "text": "Access the dashboard"
        }
      ]
    },
    {
      "_type": "paragraph",
      "textAlign": "left",
      "content": [
        {
          "_type": "text",
          "text": "Congratulations, Alinea is now ready to boot!"
        },
        {
          "_type": "hardBreak"
        },
        {
          "_type": "text",
          "text": "Have a look around in the dashboard by running:"
        }
      ]
    },
    {
      "_type": "CodeVariantsBlock",
      "_id": "2YcsowsEWLDCcidcKeyJrTKCEOg",
      "variants": [
        {
          "_id": "2YcspJhldAQ2xaUIDqKHbWHrtSz",
          "_index": "a0",
          "_type": "Variant",
          "name": "npm",
          "language": "shellscript",
          "code": "npx alinea dev"
        },
        {
          "_id": "2YcsqDyTPJFoUeSjn6ZYJpcdWix",
          "_index": "a1",
          "_type": "Variant",
          "name": "yarn",
          "language": "shellscript",
          "code": "yarn alinea dev"
        },
        {
          "_id": "2YcsrOH1ImdTgzQ3C4nWULoN0lQ",
          "_index": "a2",
          "_type": "Variant",
          "name": "pnpm",
          "language": "shellscript",
          "code": "pnpm alinea dev"
        }
      ]
    }
  ],
  "metadata": {
    "title": "",
    "description": "",
    "openGraph": {
      "siteName": "",
      "image": {},
      "title": "",
      "description": ""
    }
  }
}